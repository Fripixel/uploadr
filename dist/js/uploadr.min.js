!function(e){var t={load:function(n){t.setCounter(n.qty),t.decrement(),e(".uploadr").on("click","a.close",function(t){t.preventDefault(),e(this).closest(".thumb").fadeOut("fast",function(){e(this).remove()})}),e(n.buttonID).on("click",function(){if(n.qty>0){if(t.decrement()<=0){var a=e(this);t.disable(a)}t.events(n)}else t.events(n)})},disable:function(e){e.css({"pointer-events":"none",opacity:"0.5"}),e.off("click")},setCounter:function(e){t.counter=e},decrement:function(){return t.counter--},events:function(n){var a=n.inputName,i=n.multiple?n.multiple:null,o=n.accept,r=e("<input />",{type:"file","class":"hidden",accept:o,multiple:i,name:a}),c=e("<li />",{"class":"thumb loaded"}).append(r);r.trigger("click"),r.on("change",function(n){var a=n.target.files,i=e("<div/>",{"class":"loader"});c.append(i),e.each(a,function(e,n){t.render(n).done(function(e){i.html(e)})})}),e("#preview").append(c)},render:function(t){var n=e.Deferred(),a=new FileReader;return a.onload=function(t){e("body").css("cursor","auto");var a=t.target.result,i="background-image:url("+a+");",o=e("<i/>",{"class":"fa fa-times-circle"}),r=e("<a/>",{href:"javascript:;","class":"close"}).html(o),c=e("<img />",{"class":"upload-img",style:i}),l=c.add(r);n.resolve(l)},a.onerror=function(){n.reject("Imagem n√£o pode ser renderizada.")},a.onprogress=function(t){e("body").css("cursor","wait");t.total,t.loaded;t.lengthComputable},a.readAsDataURL(t),n.promise()}};e.fn.uploadr=function(n){var a={buttonID:"#addfile",inputName:"images[]",accept:"image/x-png, image/gif, image/jpeg",multiple:null,qty:2},i=e.extend({},a,n);return this.each(function(){t.load(i)})}}(jQuery);